(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[300],{386:function(e,s,t){Promise.resolve().then(t.bind(t,7957))},6858:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},1769:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},1671:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1723:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},3245:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},3276:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},6865:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9205).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},7648:function(e,s,t){"use strict";t.d(s,{default:function(){return a.a}});var r=t(2972),a=t.n(r)},7957:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return j}});var r=t(7437),a=t(2265),l=t(9376),n=t(4362),i=t(1786),c=t(6159),d=t(6481),m=t(6858),o=t(1769),x=t(1723),u=t(6865),h=t(1671),g=t(3276),N=t(3245),p=t(7648);function j(){let{currentUser:e}=(0,n.a)(),{startExam:s,loading:t,error:j}=(0,i.U)(),f=(0,l.useRouter)(),[b,y]=(0,a.useState)(1),[v,w]=(0,a.useState)(!1),[E,S]=(0,a.useState)(!0),k=async()=>{if(!v){alert("يجب الموافقة على شروط الامتحان قبل البدء");return}try{await s("mock",b),f.push("/exam/interface")}catch(e){console.error("Error starting exam:",e)}};return E?(0,r.jsx)(c.Z,{children:(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"flex items-center justify-between py-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)(p.default,{href:"/dashboard",className:"flex items-center text-gray-600 hover:text-gray-900 ml-4",children:[(0,r.jsx)(m.Z,{className:"h-5 w-5 ml-1"}),"العودة إلى لوحة التحكم"]}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"الامتحان التجريبي"})]})})})}),(0,r.jsx)("main",{className:"max-w-4xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"px-4 py-6 sm:px-0",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,r.jsx)("div",{className:"bg-saudi-green text-white px-6 py-4",children:(0,r.jsxs)("h2",{className:"text-xl font-bold flex items-center",children:[(0,r.jsx)(o.Z,{className:"h-6 w-6 ml-2"}),"تعليمات الامتحان التجريبي"]})}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"نظرة عامة على الامتحان"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[(0,r.jsx)(x.Z,{className:"h-5 w-5 text-blue-600 ml-2"}),(0,r.jsx)("span",{className:"font-medium text-blue-900",children:"المدة الزمنية"})]}),(0,r.jsxs)("p",{className:"text-blue-800",children:[d.qP.SECTION_TIME_MINUTES," دقيقة لكل قسم"]})]}),(0,r.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[(0,r.jsx)(o.Z,{className:"h-5 w-5 text-green-600 ml-2"}),(0,r.jsx)("span",{className:"font-medium text-green-900",children:"عدد الأسئلة"})]}),(0,r.jsxs)("p",{className:"text-green-800",children:[d.qP.SECTION_1_QUESTIONS," سؤال لكل قسم"]})]})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"تعليمات مهمة"}),(0,r.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(u.Z,{className:"h-5 w-5 text-yellow-600 ml-2 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-yellow-900 mb-2",children:"تحذيرات مهمة:"}),(0,r.jsxs)("ul",{className:"text-yellow-800 text-sm space-y-1",children:[(0,r.jsx)("li",{children:"• لا يمكن العودة إلى القسم السابق بعد الانتهاء منه"}),(0,r.jsx)("li",{children:"• سيتم حفظ إجاباتك تلقائياً"}),(0,r.jsx)("li",{children:"• سيتم إنهاء الامتحان تلقائياً عند انتهاء الوقت"}),(0,r.jsx)("li",{children:"• تأكد من استقرار اتصال الإنترنت"})]})]})]})}),(0,r.jsxs)("div",{className:"space-y-3 text-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)(h.Z,{className:"h-5 w-5 text-green-600 ml-2 mt-0.5"}),(0,r.jsx)("p",{children:"اقرأ كل سؤال بعناية قبل اختيار الإجابة"})]}),(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)(h.Z,{className:"h-5 w-5 text-green-600 ml-2 mt-0.5"}),(0,r.jsx)("p",{children:"يمكنك تغيير إجابتك في أي وقت خلال القسم الحالي"})]}),(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)(h.Z,{className:"h-5 w-5 text-green-600 ml-2 mt-0.5"}),(0,r.jsx)("p",{children:'استخدم زر "مراجعة" للتنقل بين الأسئلة'})]}),(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)(h.Z,{className:"h-5 w-5 text-green-600 ml-2 mt-0.5"}),(0,r.jsx)("p",{children:"تأكد من الإجابة على جميع الأسئلة قبل إنهاء القسم"})]})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"اختيار القسم"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"border-2 rounded-lg p-4 cursor-pointer transition-colors ".concat(1===b?"border-saudi-green bg-green-50":"border-gray-200 hover:border-gray-300"),onClick:()=>y(1),children:[(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[(0,r.jsx)("input",{type:"radio",name:"section",value:"1",checked:1===b,onChange:()=>y(1),className:"h-4 w-4 text-saudi-green focus:ring-saudi-green"}),(0,r.jsx)("span",{className:"mr-2 font-medium text-gray-900",children:"القسم الأول"})]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[d.qP.SECTION_1_QUESTIONS," سؤال - ",d.qP.SECTION_TIME_MINUTES," دقيقة"]})]}),(0,r.jsxs)("div",{className:"border-2 rounded-lg p-4 cursor-pointer transition-colors ".concat(2===b?"border-saudi-green bg-green-50":"border-gray-200 hover:border-gray-300"),onClick:()=>y(2),children:[(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[(0,r.jsx)("input",{type:"radio",name:"section",value:"2",checked:2===b,onChange:()=>y(2),className:"h-4 w-4 text-saudi-green focus:ring-saudi-green"}),(0,r.jsx)("span",{className:"mr-2 font-medium text-gray-900",children:"القسم الثاني"})]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[d.qP.SECTION_2_QUESTIONS," سؤال - ",d.qP.SECTION_TIME_MINUTES," دقيقة"]})]})]})]}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("input",{type:"checkbox",id:"terms",checked:v,onChange:e=>w(e.target.checked),className:"h-4 w-4 text-saudi-green focus:ring-saudi-green border-gray-300 rounded mt-1"}),(0,r.jsx)("label",{htmlFor:"terms",className:"mr-3 text-sm text-gray-700",children:"أوافق على شروط الامتحان وأؤكد أنني سأقوم بأداء الامتحان بنزاهة وأمانة. أفهم أن هذا امتحان تجريبي لأغراض التدريب فقط ولا يحل محل الامتحان الرسمي."})]})})}),j&&(0,r.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(u.Z,{className:"h-5 w-5 text-red-400"}),(0,r.jsx)("div",{className:"mr-3",children:(0,r.jsx)("p",{className:"text-sm text-red-800",children:j})})]})}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("button",{onClick:()=>S(!1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"إعداد مخصص"}),(0,r.jsx)("button",{onClick:k,disabled:!v||t,className:"flex items-center px-8 py-3 bg-saudi-green text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white ml-2"}),"جاري التحضير..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.Z,{className:"h-5 w-5 ml-2"}),"بدء الامتحان"]})})]})]})]})})})]})}):(0,r.jsx)(c.Z,{children:(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsx)("div",{className:"max-w-4xl mx-auto py-12 px-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[(0,r.jsx)(N.Z,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"الإعداد المخصص"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"هذه الميزة ستكون متاحة قريباً. يمكنك العودة لبدء الامتحان التجريبي بالإعدادات الافتراضية."}),(0,r.jsx)("button",{onClick:()=>S(!0),className:"px-6 py-3 bg-saudi-green text-white rounded-md hover:bg-green-700",children:"العودة للتعليمات"})]})})})})}},1786:function(e,s,t){"use strict";t.d(s,{ExamProvider:function(){return d},U:function(){return c}});var r=t(7437),a=t(2265),l=t(4362),n=t(925);let i=(0,a.createContext)(void 0),c=()=>{let e=(0,a.useContext)(i);if(void 0===e)throw Error("useExam must be used within an ExamProvider");return e},d=e=>{let{children:s}=e,{currentUser:t}=(0,l.a)(),[c,d]=(0,a.useState)(null),[m,o]=(0,a.useState)([]),[x,u]=(0,a.useState)(0),[h,g]=(0,a.useState)([]),[N,p]=(0,a.useState)(0),[j,f]=(0,a.useState)(!1),[b,y]=(0,a.useState)(null),[v,w]=(0,a.useState)(!1),[E,S]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=null;return j&&N>0&&(e=setInterval(()=>{p(e=>e<=1?(T(),0):e-1)},1e3)),()=>{e&&clearInterval(e)}},[j,N]);let k=async(e,s,r)=>{if(!t){S("يجب تسجيل الدخول لبدء الامتحان");return}try{let a;w(!0),S(null),a="mock"===e?{questionCount:110,timeLimit:120,showFeedback:!1,allowReview:!1}:"practice"===e?{questionCount:(null==r?void 0:r.questionCount)||20,domain:null==r?void 0:r.domain,difficulty:null==r?void 0:r.difficulty,showFeedback:!0,allowReview:!0,timeLimit:0}:r||{questionCount:20,timeLimit:30,showFeedback:!1,allowReview:!0},y(a);let l=await (0,n.iv)(a.questionCount,a.domain,a.difficulty);if(0===l.length)throw Error("لا توجد أسئلة متاحة للمعايير المحددة");let i={userId:t.uid,examType:e,section:s,questions:l.map(e=>e.id),answers:Array(l.length).fill(null),startTime:new Date,completed:!1,timeSpent:0},c=await (0,n.nW)(i);d({...i,id:c}),o(l),g(Array(l.length).fill(null)),u(0),p(a.timeLimit?60*a.timeLimit:0),f(!0)}catch(e){S(e.message||"فشل في بدء الامتحان")}finally{w(!1)}},T=async()=>{if(c)try{w(!0),f(!1);let e=0;m.forEach((s,t)=>{h[t]===s.correctAnswer&&e++});let s=Math.round(e/m.length*100),t=(null==b?void 0:b.timeLimit)?60*b.timeLimit-N:0;await (0,n.f_)(c.id,{answers:h,endTime:new Date,score:s,completed:!0,timeSpent:t}),d(e=>e?{...e,answers:h,endTime:new Date,score:s,completed:!0,timeSpent:t}:null)}catch(e){S(e.message||"فشل في حفظ نتائج الامتحان")}finally{w(!1)}};return(0,a.useEffect)(()=>{t||(d(null),o([]),g([]),u(0),p(0),f(!1),y(null))},[t]),(0,r.jsx)(i.Provider,{value:{currentSession:c,questions:m,currentQuestionIndex:x,answers:h,timeRemaining:N,isExamActive:j,startExam:k,submitAnswer:(e,s)=>{g(t=>{let r=[...t];return r[e]=s,r})},navigateToQuestion:e=>{e>=0&&e<m.length&&u(e)},submitExam:T,pauseExam:()=>{f(!1)},resumeExam:()=>{f(!0)},examConfig:b,setExamConfig:y,loading:v,error:E},children:s})}},6481:function(e,s,t){"use strict";t.d(s,{oD:function(){return r},qP:function(){return l},wO:function(){return a}});let r=["جامعة الملك سعود","جامعة الملك عبدالعزيز","جامعة الملك فهد للبترول والمعادن","جامعة الملك فيصل","جامعة الملك خالد","جامعة الإمام محمد بن سعود الإسلامية","جامعة أم القرى","الجامعة الإسلامية بالمدينة المنورة","جامعة القصيم","جامعة طيبة","جامعة الطائف","جامعة جازان","جامعة الباحة","جامعة تبوك","جامعة الحدود الشمالية","جامعة الجوف","جامعة حائل","جامعة الأميرة نورة بنت عبدالرحمن","جامعة الملك سعود بن عبدالعزيز للعلوم الصحية","جامعة الملك عبدالله للعلوم والتقنية","جامعة دار العلوم","كليات الريان الأهلية","جامعة الأمير سلطان","جامعة عفت","أخرى"],a={biomedical:{name:"العلوم الطبية الحيوية الأساسية",percentage:10,color:"#3B82F6",description:"علم التشريح والفسيولوجيا، علم الأدوية والسموم، علم الأحياء الدقيقة والمناعة"},pharmaceutical:{name:"العلوم الصيدلانية",percentage:35,color:"#10B981",description:"الكيمياء الصيدلانية، علم الأدوية الصيدلاني، تقنية الصيدلة"},social:{name:"العلوم الاجتماعية/السلوكية/الإدارية",percentage:20,color:"#F59E0B",description:"أخلاقيات المهنة، إدارة الصيدلية، التواصل مع المرضى"},clinical:{name:"العلوم السريرية",percentage:35,color:"#EF4444",description:"العلاج الدوائي، الرعاية الصيدلانية، مراقبة الأدوية"}},l={SECTION_1_QUESTIONS:110,SECTION_2_QUESTIONS:110,SECTION_TIME_MINUTES:120,TOTAL_QUESTIONS:220,TOTAL_TIME_MINUTES:240,PASSING_SCORE:60}}},function(e){e.O(0,[358,139,432,972,697,971,117,744],function(){return e(e.s=386)}),_N_E=e.O()}]);