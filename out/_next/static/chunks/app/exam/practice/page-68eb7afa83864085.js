(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[680],{3870:function(e,s,t){Promise.resolve().then(t.bind(t,727))},1976:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t(8030).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},6780:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t(8030).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},2940:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t(8030).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},7151:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t(8030).Z)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])},8094:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t(8030).Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},4258:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t(8030).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7138:function(e,s,t){"use strict";t.d(s,{default:function(){return i.a}});var l=t(231),i=t.n(l)},727:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return y}});var l=t(7437),i=t(2265),a=t(6463),n=t(9630),r=t(7022),c=t(7034),d=t(4451),m=t(1976),o=t(7151),u=t(4258),x=t(6780),h=t(8094),f=t(2940),g=t(7138);function y(){var e;let{currentUser:s}=(0,n.a)(),{startExam:t,loading:y,error:j}=(0,r.U)(),p=(0,a.useRouter)(),[b,v]=(0,i.useState)({domain:"all",difficulty:"all",questionCount:20,showFeedback:!0,allowReview:!0}),N=async()=>{try{let e={domain:"all"===b.domain?void 0:b.domain,difficulty:"all"===b.difficulty?void 0:b.difficulty,questionCount:b.questionCount,showFeedback:b.showFeedback,allowReview:b.allowReview,timeLimit:0};await t("practice",1,e),p.push("/exam/interface")}catch(e){console.error("Error starting practice exam:",e)}};return(0,l.jsx)(c.Z,{children:(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,l.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,l.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsx)("div",{className:"flex items-center justify-between py-4",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsxs)(g.default,{href:"/dashboard",className:"flex items-center text-gray-600 hover:text-gray-900 ml-4",children:[(0,l.jsx)(m.Z,{className:"h-5 w-5 ml-1"}),"العودة إلى لوحة التحكم"]}),(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"وضع التدريب"})]})})})}),(0,l.jsx)("main",{className:"max-w-4xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,l.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:(0,l.jsxs)("div",{className:"flex items-start",children:[(0,l.jsx)(o.Z,{className:"h-6 w-6 text-blue-600 ml-3 mt-1"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-blue-900 mb-2",children:"ما هو وضع التدريب؟"}),(0,l.jsxs)("div",{className:"text-blue-800 space-y-2",children:[(0,l.jsx)("p",{children:"وضع التدريب مصمم لمساعدتك على التعلم والتحسن من خلال:"}),(0,l.jsxs)("ul",{className:"list-disc list-inside space-y-1 mr-4",children:[(0,l.jsx)("li",{children:"عرض الإجابة الصحيحة فور الإجابة على السؤال"}),(0,l.jsx)("li",{children:"شروحات مفصلة لكل سؤال"}),(0,l.jsx)("li",{children:"إمكانية مراجعة الأسئلة والعودة إليها"}),(0,l.jsx)("li",{children:"بدون قيود زمنية للتركيز على التعلم"}),(0,l.jsx)("li",{children:"اختيار المجال والصعوبة حسب احتياجاتك"})]})]})]})]})}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,l.jsx)("div",{className:"bg-saudi-green text-white px-6 py-4",children:(0,l.jsxs)("h2",{className:"text-xl font-bold flex items-center",children:[(0,l.jsx)(u.Z,{className:"h-6 w-6 ml-2"}),"إعدادات التدريب"]})}),(0,l.jsxs)("div",{className:"p-6",children:[j&&(0,l.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(x.Z,{className:"h-5 w-5 text-red-400"}),(0,l.jsx)("div",{className:"mr-3",children:(0,l.jsx)("p",{className:"text-sm text-red-800",children:j})})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"المجال الأكاديمي"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"radio",id:"domain-all",name:"domain",value:"all",checked:"all"===b.domain,onChange:e=>v(s=>({...s,domain:e.target.value})),className:"h-4 w-4 text-saudi-green focus:ring-saudi-green"}),(0,l.jsx)("label",{htmlFor:"domain-all",className:"mr-2 text-sm text-gray-700",children:"جميع المجالات"})]}),Object.entries(d.wO).map(e=>{let[s,t]=e;return(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"radio",id:"domain-".concat(s),name:"domain",value:s,checked:b.domain===s,onChange:e=>v(s=>({...s,domain:e.target.value})),className:"h-4 w-4 text-saudi-green focus:ring-saudi-green"}),(0,l.jsxs)("label",{htmlFor:"domain-".concat(s),className:"mr-2 text-sm text-gray-700",children:[(0,l.jsx)("span",{className:"inline-block w-3 h-3 rounded-full ml-2",style:{backgroundColor:t.color}}),t.name]})]},s)})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"مستوى الصعوبة"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"radio",id:"difficulty-all",name:"difficulty",value:"all",checked:"all"===b.difficulty,onChange:e=>v(s=>({...s,difficulty:e.target.value})),className:"h-4 w-4 text-saudi-green focus:ring-saudi-green"}),(0,l.jsx)("label",{htmlFor:"difficulty-all",className:"mr-2 text-sm text-gray-700",children:"جميع المستويات"})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"radio",id:"difficulty-easy",name:"difficulty",value:"easy",checked:"easy"===b.difficulty,onChange:e=>v(s=>({...s,difficulty:e.target.value})),className:"h-4 w-4 text-saudi-green focus:ring-saudi-green"}),(0,l.jsx)("label",{htmlFor:"difficulty-easy",className:"mr-2 text-sm text-gray-700",children:(0,l.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 ml-2",children:"سهل"})})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"radio",id:"difficulty-medium",name:"difficulty",value:"medium",checked:"medium"===b.difficulty,onChange:e=>v(s=>({...s,difficulty:e.target.value})),className:"h-4 w-4 text-saudi-green focus:ring-saudi-green"}),(0,l.jsx)("label",{htmlFor:"difficulty-medium",className:"mr-2 text-sm text-gray-700",children:(0,l.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800 ml-2",children:"متوسط"})})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"radio",id:"difficulty-hard",name:"difficulty",value:"hard",checked:"hard"===b.difficulty,onChange:e=>v(s=>({...s,difficulty:e.target.value})),className:"h-4 w-4 text-saudi-green focus:ring-saudi-green"}),(0,l.jsx)("label",{htmlFor:"difficulty-hard",className:"mr-2 text-sm text-gray-700",children:(0,l.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 ml-2",children:"صعب"})})]})]})]})]}),(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"عدد الأسئلة"}),(0,l.jsx)("div",{className:"grid grid-cols-4 gap-3",children:[10,20,30,50].map(e=>(0,l.jsxs)("button",{onClick:()=>v(s=>({...s,questionCount:e})),className:"py-2 px-4 text-sm font-medium rounded-md border ".concat(b.questionCount===e?"bg-saudi-green text-white border-saudi-green":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),children:[e," سؤال"]},e))})]}),(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"خيارات التدريب"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"checkbox",id:"showFeedback",checked:b.showFeedback,onChange:e=>v(s=>({...s,showFeedback:e.target.checked})),className:"h-4 w-4 text-saudi-green focus:ring-saudi-green border-gray-300 rounded"}),(0,l.jsx)("label",{htmlFor:"showFeedback",className:"mr-3 text-sm text-gray-700",children:"عرض الملاحظات الفورية والشروحات"})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"checkbox",id:"allowReview",checked:b.allowReview,onChange:e=>v(s=>({...s,allowReview:e.target.checked})),className:"h-4 w-4 text-saudi-green focus:ring-saudi-green border-gray-300 rounded"}),(0,l.jsx)("label",{htmlFor:"allowReview",className:"mr-3 text-sm text-gray-700",children:"السماح بمراجعة الأسئلة والعودة إليها"})]})]})]}),(0,l.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,l.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"ملخص الإعدادات:"}),(0,l.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"المجال:"})," ","all"===b.domain?"جميع المجالات":null===(e=d.wO[b.domain])||void 0===e?void 0:e.name]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"الصعوبة:"})," ","all"===b.difficulty?"جميع المستويات":"easy"===b.difficulty?"سهل":"medium"===b.difficulty?"متوسط":"صعب"]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"عدد الأسئلة:"})," ",b.questionCount]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"الملاحظات الفورية:"})," ",b.showFeedback?"مفعل":"معطل"]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"مراجعة الأسئلة:"})," ",b.allowReview?"مسموح":"غير مسموح"]})]})]}),(0,l.jsx)("div",{className:"mt-8 flex justify-center",children:(0,l.jsx)("button",{onClick:N,disabled:y,className:"flex items-center px-8 py-3 bg-saudi-green text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed text-lg font-medium",children:y?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white ml-2"}),"جاري التحضير..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.Z,{className:"h-5 w-5 ml-2"}),"بدء التدريب"]})})})]})]}),(0,l.jsx)("div",{className:"mt-8 bg-green-50 border border-green-200 rounded-lg p-6",children:(0,l.jsxs)("div",{className:"flex items-start",children:[(0,l.jsx)(f.Z,{className:"h-6 w-6 text-green-600 ml-3 mt-1"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"نصائح للاستفادة القصوى من وضع التدريب"}),(0,l.jsx)("div",{className:"text-green-800 space-y-2",children:(0,l.jsxs)("ul",{className:"list-disc list-inside space-y-1 mr-4",children:[(0,l.jsx)("li",{children:"ابدأ بالأسئلة السهلة لبناء الثقة"}),(0,l.jsx)("li",{children:"اقرأ الشروحات بعناية لفهم المفاهيم"}),(0,l.jsx)("li",{children:"ركز على المجالات التي تحتاج تحسين فيها"}),(0,l.jsx)("li",{children:"استخدم المراجع المذكورة للدراسة الإضافية"}),(0,l.jsx)("li",{children:"كرر التدريب على الأسئلة الصعبة"})]})})]})]})})]})})]})})}},7022:function(e,s,t){"use strict";t.d(s,{ExamProvider:function(){return d},U:function(){return c}});var l=t(7437),i=t(2265),a=t(9630),n=t(3494);let r=(0,i.createContext)(void 0),c=()=>{let e=(0,i.useContext)(r);if(void 0===e)throw Error("useExam must be used within an ExamProvider");return e},d=e=>{let{children:s}=e,{currentUser:t}=(0,a.a)(),[c,d]=(0,i.useState)(null),[m,o]=(0,i.useState)([]),[u,x]=(0,i.useState)(0),[h,f]=(0,i.useState)([]),[g,y]=(0,i.useState)(0),[j,p]=(0,i.useState)(!1),[b,v]=(0,i.useState)(null),[N,w]=(0,i.useState)(!1),[k,C]=(0,i.useState)(null);(0,i.useEffect)(()=>{let e=null;return j&&g>0&&(e=setInterval(()=>{y(e=>e<=1?(S(),0):e-1)},1e3)),()=>{e&&clearInterval(e)}},[j,g]);let E=async(e,s,l)=>{if(!t){C("يجب تسجيل الدخول لبدء الامتحان");return}try{let i;w(!0),C(null),i="mock"===e?{questionCount:110,timeLimit:120,showFeedback:!1,allowReview:!1}:"practice"===e?{questionCount:(null==l?void 0:l.questionCount)||20,domain:null==l?void 0:l.domain,difficulty:null==l?void 0:l.difficulty,showFeedback:!0,allowReview:!0,timeLimit:0}:l||{questionCount:20,timeLimit:30,showFeedback:!1,allowReview:!0},v(i);let a=await (0,n.iv)(i.questionCount,i.domain,i.difficulty);if(0===a.length)throw Error("لا توجد أسئلة متاحة للمعايير المحددة");let r={userId:t.uid,examType:e,section:s,questions:a.map(e=>e.id),answers:Array(a.length).fill(null),startTime:new Date,completed:!1,timeSpent:0},c=await (0,n.nW)(r);d({...r,id:c}),o(a),f(Array(a.length).fill(null)),x(0),y(i.timeLimit?60*i.timeLimit:0),p(!0)}catch(e){C(e.message||"فشل في بدء الامتحان")}finally{w(!1)}},S=async()=>{if(c)try{w(!0),p(!1);let e=0;m.forEach((s,t)=>{h[t]===s.correctAnswer&&e++});let s=Math.round(e/m.length*100),t=(null==b?void 0:b.timeLimit)?60*b.timeLimit-g:0;await (0,n.f_)(c.id,{answers:h,endTime:new Date,score:s,completed:!0,timeSpent:t}),d(e=>e?{...e,answers:h,endTime:new Date,score:s,completed:!0,timeSpent:t}:null)}catch(e){C(e.message||"فشل في حفظ نتائج الامتحان")}finally{w(!1)}};return(0,i.useEffect)(()=>{t||(d(null),o([]),f([]),x(0),y(0),p(!1),v(null))},[t]),(0,l.jsx)(r.Provider,{value:{currentSession:c,questions:m,currentQuestionIndex:u,answers:h,timeRemaining:g,isExamActive:j,startExam:E,submitAnswer:(e,s)=>{f(t=>{let l=[...t];return l[e]=s,l})},navigateToQuestion:e=>{e>=0&&e<m.length&&x(e)},submitExam:S,pauseExam:()=>{p(!1)},resumeExam:()=>{p(!0)},examConfig:b,setExamConfig:v,loading:N,error:k},children:s})}},4451:function(e,s,t){"use strict";t.d(s,{oD:function(){return l},qP:function(){return a},wO:function(){return i}});let l=["جامعة الملك سعود","جامعة الملك عبدالعزيز","جامعة الملك فهد للبترول والمعادن","جامعة الملك فيصل","جامعة الملك خالد","جامعة الإمام محمد بن سعود الإسلامية","جامعة أم القرى","الجامعة الإسلامية بالمدينة المنورة","جامعة القصيم","جامعة طيبة","جامعة الطائف","جامعة جازان","جامعة الباحة","جامعة تبوك","جامعة الحدود الشمالية","جامعة الجوف","جامعة حائل","جامعة الأميرة نورة بنت عبدالرحمن","جامعة الملك سعود بن عبدالعزيز للعلوم الصحية","جامعة الملك عبدالله للعلوم والتقنية","جامعة دار العلوم","كليات الريان الأهلية","جامعة الأمير سلطان","جامعة عفت","أخرى"],i={biomedical:{name:"العلوم الطبية الحيوية الأساسية",percentage:10,color:"#3B82F6",description:"علم التشريح والفسيولوجيا، علم الأدوية والسموم، علم الأحياء الدقيقة والمناعة"},pharmaceutical:{name:"العلوم الصيدلانية",percentage:35,color:"#10B981",description:"الكيمياء الصيدلانية، علم الأدوية الصيدلاني، تقنية الصيدلة"},social:{name:"العلوم الاجتماعية/السلوكية/الإدارية",percentage:20,color:"#F59E0B",description:"أخلاقيات المهنة، إدارة الصيدلية، التواصل مع المرضى"},clinical:{name:"العلوم السريرية",percentage:35,color:"#EF4444",description:"العلاج الدوائي، الرعاية الصيدلانية، مراقبة الأدوية"}},a={SECTION_1_QUESTIONS:110,SECTION_2_QUESTIONS:110,SECTION_TIME_MINUTES:120,TOTAL_QUESTIONS:220,TOTAL_TIME_MINUTES:240,PASSING_SCORE:60}}},function(e){e.O(0,[358,139,230,231,685,971,23,744],function(){return e(e.s=3870)}),_N_E=e.O()}]);