(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[743],{5244:function(e,s,t){Promise.resolve().then(t.bind(t,1977))},1976:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(8030).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},6540:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(8030).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},2468:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(8030).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},6780:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(8030).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},2940:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(8030).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2513:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(8030).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4817:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(8030).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},6649:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(8030).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},883:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(8030).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},7138:function(e,s,t){"use strict";t.d(s,{default:function(){return l.a}});var a=t(231),l=t.n(a)},1977:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return b}});var a=t(7437),l=t(2265),r=t(9630),n=t(7034),i=t(3494),c=t(4451),d=t(1976),x=t(2513),m=t(2940),o=t(6780),h=t(6540),u=t(8030);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,u.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var g=t(4817),j=t(2468);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let N=(0,u.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var f=t(6649),v=t(883),y=t(7138);function b(){let{currentUser:e}=(0,r.a)(),[s,t]=(0,l.useState)([]),[u,b]=(0,l.useState)(!0),[w,k]=(0,l.useState)(""),[Z,S]=(0,l.useState)("all"),[C,E]=(0,l.useState)("all"),[M,O]=(0,l.useState)("all"),[_,T]=(0,l.useState)(!1),[I,q]=(0,l.useState)(null),[A,B]=(0,l.useState)(""),[L,z]=(0,l.useState)("");(0,l.useEffect)(()=>{P()},[]);let P=async()=>{try{b(!0);let e=await (0,i.tI)(void 0,void 0,!1,100);t(e)}catch(e){console.error("Error fetching questions:",e),B("فشل في تحميل الأسئلة")}finally{b(!1)}},U=s.filter(e=>{let s=e.content.toLowerCase().includes(w.toLowerCase()),t="all"===Z||e.domain===Z,a="all"===C||e.difficulty===C,l="all"===M||"approved"===M&&e.approved||"pending"===M&&!e.approved;return s&&t&&a&&l}),F=async(e,s)=>{try{await (0,i.Ds)(e,{approved:s}),t(t=>t.map(t=>t.id===e?{...t,approved:s}:t)),z("تم ".concat(s?"الموافقة على":"رفض"," السؤال بنجاح"))}catch(e){B("فشل في تحديث حالة الموافقة")}},D=async e=>{if(confirm("هل أنت متأكد من حذف هذا السؤال؟"))try{await (0,i.Km)(e),t(s=>s.filter(s=>s.id!==e)),z("تم حذف السؤال بنجاح")}catch(e){B("فشل في حذف السؤال")}},H=e=>c.wO[e].color,Q=e=>({easy:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",hard:"bg-red-100 text-red-800"})[e],V=e=>({easy:"سهل",medium:"متوسط",hard:"صعب"})[e];return(0,a.jsx)(n.Z,{requireAdmin:!0,children:(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between py-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)(y.default,{href:"/admin",className:"flex items-center text-gray-600 hover:text-gray-900 ml-4",children:[(0,a.jsx)(d.Z,{className:"h-5 w-5 ml-1"}),"العودة إلى لوحة الإدارة"]}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"إدارة الأسئلة"})]}),(0,a.jsxs)("button",{onClick:()=>T(!0),className:"flex items-center px-4 py-2 bg-saudi-green text-white rounded-md hover:bg-green-700",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4 ml-2"}),"إضافة سؤال جديد"]})]})})}),(0,a.jsx)("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[L&&(0,a.jsx)("div",{className:"mb-4 bg-green-50 border border-green-200 rounded-md p-4",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(m.Z,{className:"h-5 w-5 text-green-400"}),(0,a.jsx)("div",{className:"mr-3",children:(0,a.jsx)("p",{className:"text-sm text-green-800",children:L})})]})}),A&&(0,a.jsx)("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-md p-4",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(o.Z,{className:"h-5 w-5 text-red-400"}),(0,a.jsx)("div",{className:"mr-3",children:(0,a.jsx)("p",{className:"text-sm text-red-800",children:A})})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(h.Z,{className:"h-8 w-8 text-blue-600"})}),(0,a.jsxs)("div",{className:"mr-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"إجمالي الأسئلة"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:s.length})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(m.Z,{className:"h-8 w-8 text-green-600"})}),(0,a.jsxs)("div",{className:"mr-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"أسئلة معتمدة"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:s.filter(e=>e.approved).length})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(o.Z,{className:"h-8 w-8 text-orange-600"})}),(0,a.jsxs)("div",{className:"mr-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"في انتظار الموافقة"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:s.filter(e=>!e.approved).length})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(p,{className:"h-8 w-8 text-purple-600"})}),(0,a.jsxs)("div",{className:"mr-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"أسئلة مفلترة"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:U.length})]})]})})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow mb-6",children:(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"البحث"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,a.jsx)(g.Z,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{type:"text",className:"form-input pr-10",placeholder:"البحث في محتوى الأسئلة",value:w,onChange:e=>k(e.target.value)})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"المجال"}),(0,a.jsxs)("select",{className:"form-input",value:Z,onChange:e=>S(e.target.value),children:[(0,a.jsx)("option",{value:"all",children:"جميع المجالات"}),Object.entries(c.wO).map(e=>{let[s,t]=e;return(0,a.jsx)("option",{value:s,children:t.name},s)})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الصعوبة"}),(0,a.jsxs)("select",{className:"form-input",value:C,onChange:e=>E(e.target.value),children:[(0,a.jsx)("option",{value:"all",children:"جميع المستويات"}),(0,a.jsx)("option",{value:"easy",children:"سهل"}),(0,a.jsx)("option",{value:"medium",children:"متوسط"}),(0,a.jsx)("option",{value:"hard",children:"صعب"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"حالة الموافقة"}),(0,a.jsxs)("select",{className:"form-input",value:M,onChange:e=>O(e.target.value),children:[(0,a.jsx)("option",{value:"all",children:"جميع الحالات"}),(0,a.jsx)("option",{value:"approved",children:"معتمد"}),(0,a.jsx)("option",{value:"pending",children:"في انتظار الموافقة"})]})]})]})})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["قائمة الأسئلة (",U.length,")"]})}),u?(0,a.jsxs)("div",{className:"p-8 text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-saudi-green mx-auto"}),(0,a.jsx)("p",{className:"mt-2 text-gray-600",children:"جاري تحميل الأسئلة..."})]}):(0,a.jsxs)("div",{className:"divide-y divide-gray-200",children:[U.map(e=>(0,a.jsx)("div",{className:"p-6 hover:bg-gray-50",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)("span",{className:"inline-block w-3 h-3 rounded-full ml-2",style:{backgroundColor:H(e.domain)}}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:c.wO[e.domain].name}),(0,a.jsx)("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(Q(e.difficulty)),children:V(e.difficulty)}),e.approved?(0,a.jsxs)("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,a.jsx)(j.Z,{className:"h-3 w-3 ml-1"}),"معتمد"]}):(0,a.jsxs)("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[(0,a.jsx)(o.Z,{className:"h-3 w-3 ml-1"}),"في انتظار الموافقة"]})]}),(0,a.jsx)("p",{className:"text-gray-900 mb-3 font-medium",children:e.content}),(0,a.jsx)("div",{className:"space-y-1 mb-3",children:e.options.map((s,t)=>(0,a.jsxs)("div",{className:"text-sm p-2 rounded ".concat(t===e.correctAnswer?"bg-green-50 text-green-800 border border-green-200":"bg-gray-50 text-gray-700"),children:[String.fromCharCode(65+t),". ",s,t===e.correctAnswer&&(0,a.jsx)(j.Z,{className:"inline h-4 w-4 mr-1 text-green-600"})]},t))}),e.explanation&&(0,a.jsx)("div",{className:"bg-blue-50 p-3 rounded-md mb-3",children:(0,a.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,a.jsx)("strong",{children:"الشرح:"})," ",e.explanation]})}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["أنشئ بواسطة: ",e.createdBy," | تاريخ الإنشاء: ",e.createdAt.toLocaleDateString("ar-SA")]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse mr-4",children:[!e.approved&&(0,a.jsx)("button",{onClick:()=>F(e.id,!0),className:"p-2 text-green-600 hover:bg-green-50 rounded-md",title:"الموافقة على السؤال",children:(0,a.jsx)(j.Z,{className:"h-4 w-4"})}),e.approved&&(0,a.jsx)("button",{onClick:()=>F(e.id,!1),className:"p-2 text-orange-600 hover:bg-orange-50 rounded-md",title:"إلغاء الموافقة",children:(0,a.jsx)(N,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>q(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-md",title:"تعديل السؤال",children:(0,a.jsx)(f.Z,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>D(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-md",title:"حذف السؤال",children:(0,a.jsx)(v.Z,{className:"h-4 w-4"})})]})]})},e.id)),0===U.length&&(0,a.jsxs)("div",{className:"p-8 text-center",children:[(0,a.jsx)(h.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"لا توجد أسئلة مطابقة للبحث"})]})]})]})]})})]})})}},4451:function(e,s,t){"use strict";t.d(s,{oD:function(){return a},qP:function(){return r},wO:function(){return l}});let a=["جامعة الملك سعود","جامعة الملك عبدالعزيز","جامعة الملك فهد للبترول والمعادن","جامعة الملك فيصل","جامعة الملك خالد","جامعة الإمام محمد بن سعود الإسلامية","جامعة أم القرى","الجامعة الإسلامية بالمدينة المنورة","جامعة القصيم","جامعة طيبة","جامعة الطائف","جامعة جازان","جامعة الباحة","جامعة تبوك","جامعة الحدود الشمالية","جامعة الجوف","جامعة حائل","جامعة الأميرة نورة بنت عبدالرحمن","جامعة الملك سعود بن عبدالعزيز للعلوم الصحية","جامعة الملك عبدالله للعلوم والتقنية","جامعة دار العلوم","كليات الريان الأهلية","جامعة الأمير سلطان","جامعة عفت","أخرى"],l={biomedical:{name:"العلوم الطبية الحيوية الأساسية",percentage:10,color:"#3B82F6",description:"علم التشريح والفسيولوجيا، علم الأدوية والسموم، علم الأحياء الدقيقة والمناعة"},pharmaceutical:{name:"العلوم الصيدلانية",percentage:35,color:"#10B981",description:"الكيمياء الصيدلانية، علم الأدوية الصيدلاني، تقنية الصيدلة"},social:{name:"العلوم الاجتماعية/السلوكية/الإدارية",percentage:20,color:"#F59E0B",description:"أخلاقيات المهنة، إدارة الصيدلية، التواصل مع المرضى"},clinical:{name:"العلوم السريرية",percentage:35,color:"#EF4444",description:"العلاج الدوائي، الرعاية الصيدلانية، مراقبة الأدوية"}},r={SECTION_1_QUESTIONS:110,SECTION_2_QUESTIONS:110,SECTION_TIME_MINUTES:120,TOTAL_QUESTIONS:220,TOTAL_TIME_MINUTES:240,PASSING_SCORE:60}}},function(e){e.O(0,[358,139,230,231,685,971,23,744],function(){return e(e.s=5244)}),_N_E=e.O()}]);