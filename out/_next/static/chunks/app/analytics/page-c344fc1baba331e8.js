(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[109],{2329:function(e,s,t){Promise.resolve().then(t.bind(t,3813))},1976:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(8030).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},8281:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(8030).Z)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},8711:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(8030).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},6540:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(8030).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},4241:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(8030).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},2940:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(8030).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},933:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(8030).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},1902:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(8030).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},3225:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(8030).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},6127:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(8030).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},7138:function(e,s,t){"use strict";t.d(s,{default:function(){return a.a}});var r=t(231),a=t.n(r)},3813:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return y}});var r=t(7437),a=t(2265),l=t(9630),c=t(7034),n=t(3494),i=t(4451),d=t(3225),m=t(1976),x=t(6540),o=t(8711),h=t(1902),u=t(8281),g=t(933),p=t(4241),j=t(6127),f=t(2940),N=t(7138);function y(){let{currentUser:e}=(0,l.a)(),[s,t]=(0,a.useState)([]),[y,v]=(0,a.useState)(null),[b,w]=(0,a.useState)(!0),[k,Z]=(0,a.useState)("month");(0,a.useEffect)(()=>{e&&S()},[e]);let S=async()=>{if(e)try{w(!0);let[s,r]=await Promise.all([(0,n.$V)(e.uid,void 0,50),(0,n.L$)(e.uid)]);t(s),v(r)}catch(e){console.error("Error fetching analytics data:",e)}finally{w(!1)}},M=s.filter(e=>{if("all"===k)return!0;let s=e.startTime,t=new Date,r=new Date;return"week"===k?r.setDate(t.getDate()-7):"month"===k&&r.setMonth(t.getMonth()-1),s>=r}).filter(e=>e.completed),T=M.length,O=T>0?Math.round(M.reduce((e,s)=>e+(s.score||0),0)/T):0,E=M.filter(e=>(e.score||0)>=i.qP.PASSING_SCORE).length,_=T>0?Math.round(E/T*100):0,C=Object.keys(i.wO).reduce((e,s)=>{let t=M.filter(e=>!0);return e[s]={averageScore:Math.floor(40*Math.random())+60,totalAttempts:t.length,improvement:Math.floor(20*Math.random())-10},e},{}),I=M.sort((e,s)=>s.startTime.getTime()-e.startTime.getTime()).slice(0,10),A=e=>e>=80?"text-green-600":e>=60?"text-yellow-600":"text-red-600",q=e=>e>0?(0,r.jsx)(d.Z,{className:"h-4 w-4 text-green-600"}):e<0?(0,r.jsx)(d.Z,{className:"h-4 w-4 text-red-600 transform rotate-180"}):(0,r.jsx)("div",{className:"h-4 w-4"});return b?(0,r.jsx)(c.Z,{children:(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-saudi-green mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"جاري تحميل التحليلات..."})]})})}):(0,r.jsx)(c.Z,{children:(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between py-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)(N.default,{href:"/dashboard",className:"flex items-center text-gray-600 hover:text-gray-900 ml-4",children:[(0,r.jsx)(m.Z,{className:"h-5 w-5 ml-1"}),"العودة إلى لوحة التحكم"]}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"تحليل الأداء"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"الفترة الزمنية:"}),(0,r.jsxs)("select",{value:k,onChange:e=>Z(e.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-1",children:[(0,r.jsx)("option",{value:"week",children:"آخر أسبوع"}),(0,r.jsx)("option",{value:"month",children:"آخر شهر"}),(0,r.jsx)("option",{value:"all",children:"جميع الفترات"})]})]})]})})}),(0,r.jsx)("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,r.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(x.Z,{className:"h-8 w-8 text-blue-600"})}),(0,r.jsxs)("div",{className:"mr-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"إجمالي الامتحانات"}),(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:T})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(o.Z,{className:"h-8 w-8 text-green-600"})}),(0,r.jsxs)("div",{className:"mr-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"متوسط النتائج"}),(0,r.jsxs)("p",{className:"text-2xl font-semibold ".concat(A(O)),children:[O,"%"]})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(h.Z,{className:"h-8 w-8 text-purple-600"})}),(0,r.jsxs)("div",{className:"mr-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"معدل النجاح"}),(0,r.jsxs)("p",{className:"text-2xl font-semibold ".concat(A(_)),children:[_,"%"]})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(u.Z,{className:"h-8 w-8 text-orange-600"})}),(0,r.jsxs)("div",{className:"mr-4",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"أعلى نتيجة"}),(0,r.jsxs)("p",{className:"text-2xl font-semibold text-gray-900",children:[M.length>0?Math.max(...M.map(e=>e.score||0)):0,"%"]})]})]})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow mb-8",children:[(0,r.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,r.jsxs)("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[(0,r.jsx)(o.Z,{className:"h-5 w-5 ml-2"}),"الأداء حسب المجال الأكاديمي"]})}),(0,r.jsx)("div",{className:"p-6",children:(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(i.wO).map(e=>{let[s,t]=e,a=C[s];return(0,r.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"inline-block w-4 h-4 rounded-full ml-2",style:{backgroundColor:t.color}}),(0,r.jsx)("h4",{className:"font-medium text-gray-900",children:t.name})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[q(a.improvement),(0,r.jsxs)("span",{className:"text-lg font-bold mr-2 ".concat(A(a.averageScore)),children:[a.averageScore,"%"]})]})]}),(0,r.jsx)("div",{className:"mb-3",children:(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:"".concat(a.averageScore,"%"),backgroundColor:t.color}})})}),(0,r.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,r.jsxs)("span",{children:[t.percentage,"% من الامتحان"]}),(0,r.jsxs)("span",{children:[a.totalAttempts," محاولة"]})]}),0!==a.improvement&&(0,r.jsx)("div",{className:"mt-2 text-xs",children:(0,r.jsxs)("span",{className:a.improvement>0?"text-green-600":"text-red-600",children:[a.improvement>0?"+":"",a.improvement,"%",a.improvement>0?"تحسن":"انخفاض"," مقارنة بالفترة السابقة"]})})]},s)})})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,r.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,r.jsxs)("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[(0,r.jsx)(g.Z,{className:"h-5 w-5 ml-2"}),"الامتحانات الأخيرة"]})}),(0,r.jsx)("div",{className:"p-6",children:I.length>0?(0,r.jsx)("div",{className:"space-y-4",children:I.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"mock"===e.examType?"امتحان تجريبي":"practice"===e.examType?"تدريب":"مخصص"}),(0,r.jsxs)("span",{className:"text-xs text-gray-500 mr-2",children:["القسم ",e.section]})]}),(0,r.jsxs)("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[(0,r.jsx)(p.Z,{className:"h-3 w-3 ml-1"}),e.startTime.toLocaleDateString("ar-SA")]})]}),(0,r.jsxs)("div",{className:"text-left",children:[(0,r.jsxs)("div",{className:"text-lg font-bold ".concat(A(e.score||0)),children:[e.score||0,"%"]}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:[e.timeSpent?Math.round(e.timeSpent/60):0," دقيقة"]})]})]},e.id))}):(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(x.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-500",children:"لا توجد امتحانات مكتملة"}),(0,r.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"ابدأ أول امتحان لك لرؤية التحليلات"})]})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,r.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,r.jsxs)("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[(0,r.jsx)(h.Z,{className:"h-5 w-5 ml-2"}),"توصيات للتحسين"]})}),(0,r.jsx)("div",{className:"p-6",children:(0,r.jsxs)("div",{className:"space-y-4",children:[Object.entries(C).filter(e=>{let[s,t]=e;return t.averageScore<70}).slice(0,2).map(e=>{let[s,t]=e;return(0,r.jsxs)("div",{className:"flex items-start p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[(0,r.jsx)(j.Z,{className:"h-5 w-5 text-orange-600 ml-2 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h4",{className:"font-medium text-orange-900",children:["تحسين ",i.wO[s].name]}),(0,r.jsxs)("p",{className:"text-sm text-orange-800 mt-1",children:["متوسط نتائجك ",t.averageScore,"%. ننصح بالتركيز على هذا المجال."]})]})]},s)}),Object.entries(C).filter(e=>{let[s,t]=e;return t.averageScore>=80}).slice(0,1).map(e=>{let[s,t]=e;return(0,r.jsxs)("div",{className:"flex items-start p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,r.jsx)(f.Z,{className:"h-5 w-5 text-green-600 ml-2 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h4",{className:"font-medium text-green-900",children:["ممتاز في ",i.wO[s].name]}),(0,r.jsxs)("p",{className:"text-sm text-green-800 mt-1",children:["متوسط نتائجك ",t.averageScore,"%. استمر في هذا المستوى الممتاز!"]})]})]},s)}),(0,r.jsxs)("div",{className:"flex items-start p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,r.jsx)(x.Z,{className:"h-5 w-5 text-blue-600 ml-2 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-blue-900",children:"نصيحة عامة"}),(0,r.jsx)("p",{className:"text-sm text-blue-800 mt-1",children:T<5?"قم بأداء المزيد من الامتحانات التجريبية لتحسين أدائك":O<60?"ركز على وضع التدريب مع الملاحظات الفورية":"استمر في التدريب المنتظم للحفاظ على مستواك"})]})]})]})})]})]}),(0,r.jsxs)("div",{className:"mt-8 flex flex-col sm:flex-row gap-4 justify-center",children:[(0,r.jsxs)(N.default,{href:"/exam/mock",className:"flex items-center justify-center px-6 py-3 bg-saudi-green text-white rounded-md hover:bg-green-700",children:[(0,r.jsx)(x.Z,{className:"h-4 w-4 ml-2"}),"بدء امتحان تجريبي"]}),(0,r.jsxs)(N.default,{href:"/exam/practice",className:"flex items-center justify-center px-6 py-3 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:[(0,r.jsx)(h.Z,{className:"h-4 w-4 ml-2"}),"وضع التدريب"]}),(0,r.jsxs)(N.default,{href:"/questions",className:"flex items-center justify-center px-6 py-3 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:[(0,r.jsx)(x.Z,{className:"h-4 w-4 ml-2"}),"تصفح الأسئلة"]})]})]})})]})})}},4451:function(e,s,t){"use strict";t.d(s,{oD:function(){return r},qP:function(){return l},wO:function(){return a}});let r=["جامعة الملك سعود","جامعة الملك عبدالعزيز","جامعة الملك فهد للبترول والمعادن","جامعة الملك فيصل","جامعة الملك خالد","جامعة الإمام محمد بن سعود الإسلامية","جامعة أم القرى","الجامعة الإسلامية بالمدينة المنورة","جامعة القصيم","جامعة طيبة","جامعة الطائف","جامعة جازان","جامعة الباحة","جامعة تبوك","جامعة الحدود الشمالية","جامعة الجوف","جامعة حائل","جامعة الأميرة نورة بنت عبدالرحمن","جامعة الملك سعود بن عبدالعزيز للعلوم الصحية","جامعة الملك عبدالله للعلوم والتقنية","جامعة دار العلوم","كليات الريان الأهلية","جامعة الأمير سلطان","جامعة عفت","أخرى"],a={biomedical:{name:"العلوم الطبية الحيوية الأساسية",percentage:10,color:"#3B82F6",description:"علم التشريح والفسيولوجيا، علم الأدوية والسموم، علم الأحياء الدقيقة والمناعة"},pharmaceutical:{name:"العلوم الصيدلانية",percentage:35,color:"#10B981",description:"الكيمياء الصيدلانية، علم الأدوية الصيدلاني، تقنية الصيدلة"},social:{name:"العلوم الاجتماعية/السلوكية/الإدارية",percentage:20,color:"#F59E0B",description:"أخلاقيات المهنة، إدارة الصيدلية، التواصل مع المرضى"},clinical:{name:"العلوم السريرية",percentage:35,color:"#EF4444",description:"العلاج الدوائي، الرعاية الصيدلانية، مراقبة الأدوية"}},l={SECTION_1_QUESTIONS:110,SECTION_2_QUESTIONS:110,SECTION_TIME_MINUTES:120,TOTAL_QUESTIONS:220,TOTAL_TIME_MINUTES:240,PASSING_SCORE:60}}},function(e){e.O(0,[358,139,230,231,685,971,23,744],function(){return e(e.s=2329)}),_N_E=e.O()}]);